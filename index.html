<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>JJXCAPITAL ⚡ - Professional Crypto Platform</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0D0D0D 0%, #1a1a1a 100%);
      color: #fff;
      text-align: center;
      min-height: 100vh;
    }

    /* Hero Section */
    #hero {
      padding: 60px 20px;
      background: linear-gradient(135deg, #0D0D0D 0%, #1a1a1a 50%, #2d2d2d 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .logo {
      font-size: 3.5rem;
      font-weight: 800;
      color: #FFD700;
      text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
      margin-bottom: 20px;
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 30px rgba(255, 215, 0, 0.5); }
      to { text-shadow: 0 0 50px rgba(255, 215, 0, 0.8); }
    }

    .tagline {
      font-size: 1.2rem;
      color: #CCCCCC;
      margin-bottom: 40px;
      font-weight: 300;
    }

    #hero button {
      margin: 15px 10px;
      padding: 15px 30px;
      border: none;
      border-radius: 25px;
      font-size: 1.1em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    #btn-simulador { 
      background: linear-gradient(135deg, #333 0%, #555 100%);
      color: #fff;
      border: 2px solid #FFD700;
    }

    #btn-simulador:hover {
      background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
      color: #000;
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
    }

    #btn-login, #btn-register { 
      background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
      color: #000;
      box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
    }

    #btn-login:hover, #btn-register:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
    }

    /* Trust Features */
    .trust-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin: 50px 0;
      max-width: 1000px;
    }

    .trust-feature {
      background: linear-gradient(135deg, #2d2d2d 0%, #3d3d3d 100%);
      padding: 30px;
      border-radius: 15px;
      border: 1px solid #444;
      transition: transform 0.3s ease;
    }

    .trust-feature:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(255, 215, 0, 0.2);
    }

    .trust-icon {
      font-size: 3rem;
      color: #FFD700;
      margin-bottom: 15px;
    }

    .trust-title {
      font-size: 1.3rem;
      font-weight: 600;
      color: #FFD700;
      margin-bottom: 10px;
    }

    .trust-description {
      color: #CCCCCC;
      line-height: 1.5;
    }

    /* Navigation */
    #app-nav {
      display: none;
      position: fixed;
      bottom: 0;
      width: 100%;
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
      padding: 15px 0;
      border-top: 2px solid #333;
      box-shadow: 0 -5px 25px rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }

    #app-nav.show {
      display: flex;
      justify-content: space-around;
    }

    #app-nav a {
      color: #CCCCCC;
      font-size: 1.8rem;
      text-decoration: none;
      transition: all 0.3s ease;
      padding: 10px;
      border-radius: 10px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }

    #app-nav a:hover {
      color: #FFD700;
      background: rgba(255, 215, 0, 0.1);
      transform: translateY(-3px);
    }

    .nav-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Profile Section */
    #profile {
      display: none;
      background: linear-gradient(135deg, #1a4d1a 0%, #2d2d2d 100%);
      padding: 30px;
      margin: 20px;
      border-radius: 15px;
      border: 2px solid #4CAF50;
      text-align: left;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    #profile.show {
      display: block;
    }

    #profile h2 {
      color: #4CAF50;
      margin-bottom: 20px;
      text-align: center;
    }

    #profile p {
      margin: 12px 0;
      font-size: 1.1rem;
      color: #CCCCCC;
    }

    #profile span {
      color: #FFD700;
      font-weight: 600;
    }

    /* Payments Section */
    #payments {
      display: none;
      padding: 30px;
      background: linear-gradient(135deg, #2d2d2d 0%, #3d3d3d 100%);
      margin: 20px;
      border-radius: 15px;
      border: 2px solid #FFD700;
      text-align: center;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    #payments.show {
      display: block;
    }

    #payments h2 {
      color: #FFD700;
      margin-bottom: 30px;
      font-size: 1.8rem;
    }

    .payment-methods {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .payment-method {
      background: #1a1a1a;
      padding: 20px;
      border-radius: 15px;
      border: 2px solid #444;
      transition: all 0.3s ease;
    }

    .payment-method:hover {
      border-color: #FFD700;
      transform: translateY(-3px);
    }

    #payments .btn {
      display: inline-block;
      margin: 10px;
      padding: 12px 25px;
      border-radius: 25px;
      text-decoration: none;
      color: #fff;
      font-weight: 600;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    #payments .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    #paypal-button-container { 
      margin: 25px 0;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    .btn-warning  { 
      background: linear-gradient(135deg, #f0b90b 0%, #d4ac0d 100%);
      color: #000;
    }
    .btn-dark     { 
      background: linear-gradient(135deg, #333 0%, #555 100%);
    }
    .btn-success  { 
      background: linear-gradient(135deg, #25D366 0%, #1ea952 100%);
    }
    .btn-info     { 
      background: linear-gradient(135deg, #0088cc 0%, #006bb3 100%);
    }

    /* Contact Premium */
    #contacto-premium {
      margin-top: 30px;
      padding: 20px;
      background: #1a1a1a;
      border-radius: 15px;
      border: 1px solid #444;
    }

    #contacto-premium h3 {
      color: #FFD700;
      margin-bottom: 15px;
    }

    /* Premium Features */
    .premium-features {
      margin: 30px 0;
      text-align: left;
    }

    .premium-features ul {
      list-style: none;
      padding: 0;
    }

    .premium-features li {
      padding: 8px 0;
      color: #CCCCCC;
      position: relative;
      padding-left: 30px;
    }

    .premium-features li::before {
      content: "✅";
      position: absolute;
      left: 0;
      color: #4CAF50;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .logo {
        font-size: 2.5rem;
      }
      
      #hero {
        padding: 40px 15px;
      }
      
      #hero button {
        display: block;
        width: 90%;
        margin: 10px auto;
      }
      
      .trust-features {
        grid-template-columns: 1fr;
        gap: 20px;
        margin: 30px 0;
      }
      
      #profile, #payments {
        margin: 15px;
        padding: 20px;
      }

      .payment-methods {
        grid-template-columns: 1fr;
        gap: 15px;
      }

      body {
        padding-bottom: 100px;
      }
    }

    /* Loading Animation */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid #333;
      border-radius: 50%;
      border-top-color: #FFD700;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Messages */
    .message {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 10px;
      color: white;
      font-weight: 600;
      z-index: 10000;
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    .message.success { background: #4CAF50; }
    .message.error { background: #f44336; }
    .message.info { background: #2196F3; }
  </style>
</head>

// ——— Firebase setup ———
const firebaseConfig = {
  apiKey:            "AIzaSyBMHC2YuUO3mwHQORDDGZaQ84-k4tmJGjY",
  authDomain:        "jjxcapital-2.firebaseapp.com",
  projectId:         "jjxcapital-2",
  storageBucket:     "jjxcapital-2.firebasestorage.app",
  messagingSenderId: "842768954334",
  appId:             "1:842768954334:web:63248c0a432f583abf234f",
  measurementId:     "G-VVYKFN4WPD"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
<!-- Auth0 SPA SDK -->
<script src="https://cdn.auth0.com/js/auth0-spa-js/1.23/auth0-spa-js.production.js"></script>
<!-- Firebase Core & Firestore -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js"></script>

<script>
  // 1. Inicializa Firebase
  const firebaseConfig = { /* tu config */ };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // 2. Inicializa Auth0
  let auth0 = null;
  (async () => { /* tu lógica de Auth0 */ })();

  // 3. Función para guardar operación
  async function saveOperation(userId) {
    const base      = document.getElementById('base').value;
    const quote     = document.getElementById('quote').value;
    const priceBuy  = parseFloat(document.getElementById('price-buy').value);
    const priceSell = parseFloat(document.getElementById('price-sell').value);
    const profit    = priceSell - priceBuy;

    try {
      await db.collection('operations').add({
        uid:       userId,
        base,
        quote,
        priceBuy,
        priceSell,
        profit,
        ts: firebase.firestore.FieldValue.serverTimestamp()
      });
      loadOperations(userId);
    } catch (e) {
      alert('Error guardando operación: ' + e.message);
    }
  }

  // 4. Función para cargar operaciones
  async function loadOperations(userId) {
    try {
      const snap = await db
        .collection('operations')
        .where('uid', '==', userId)
        .orderBy('ts', 'desc')
        .get();

      document.getElementById('ops-list').innerHTML =
        snap.docs.map(doc => {
          const o = doc.data();
          return `<li>${o.base}/${o.quote} → Profit: ${o.profit}</li>`;
        }).join('');
    } catch (e) {
      alert('Error cargando operaciones: ' + e.message);
    }
  }

  // 5. updateUI() y demás funciones...
</script>

// Dentro de updateUI(), cuando user !== null:
loadOperations(user.sub);
document.getElementById('btn-save-op').onclick = () => saveOperation(user.sub);
<body>
  <!-- HERO SECTION -->
  <section id="hero">
    <div class="logo">JJXCAPITAL ⚡</div>
    <p class="tagline">Seguridad, velocidad y confianza</p>
    
    <!-- Trust Features (Always visible) -->
    <div class="trust-features">
      <div class="trust-feature">
        <div class="trust-icon">🛡️</div>
        <h3 class="trust-title">Seguridad</h3>
        <p class="trust-description">Autenticación multifactor y encriptación de última generación para proteger tus activos.</p>
      </div>
      <div class="trust-feature">
        <div class="trust-icon">⚡</div>
        <h3 class="trust-title">Velocidad</h3>
        <p class="trust-description">Operaciones instantáneas y simuladores en tiempo real para maximizar oportunidades.</p>
      </div>
      <div class="trust-feature">
        <div class="trust-icon">🤝</div>
        <h3 class="trust-title">Confianza</h3>
        <p class="trust-description">Transparencia total y herramientas profesionales de trading respaldadas por años de experiencia.</p>
      </div>
    </div>

    <!-- Main Action Buttons -->
    <button id="btn-simulador">🔄 Ir al Simulador</button>
    
    <!-- Auth Buttons (Hidden after login) -->
    <div id="auth-buttons">
      <button id="btn-login">🚀 Iniciar Sesión con Google</button>
      <button id="btn-register">📝 Regístrate Gratis</button>
    </div>
  </section>

  <!-- PROFILE SECTION (Hidden until login) -->
  <section id="profile">
    <h2>👤 Mi Perfil</h2>
    <p>Nombre: <span id="profile-name">—</span></p>
    <p>Email: <span id="profile-email">—</span></p>
    <p>Miembro desde: <span id="profile-date">—</span></p>
    <p>Estado: <span id="profile-status">Plan Gratuito</span></p>
  </section>

  <!-- PAYMENTS / PREMIUM SECTION (Hidden until login) -->
  <section id="payments">
    <h2>💎 Plan PREMIUM - $15 USD/mes</h2>
    
    <div class="premium-features">
      <ul>
        <li>Operaciones ilimitadas</li>
        <li>Exportaciones ilimitadas</li>
        <li>API de precios en tiempo real</li>
        <li>Alertas automáticas de arbitraje</li>
        <li>Soporte prioritario 24/7</li>
        <li>Acceso a herramientas avanzadas</li>
      </ul>
    </div>

    <div class="payment-methods">
      <!-- PayPal -->
      <div class="payment-method">
        <h4 style="color: #0070ba; margin-bottom: 15px;">💳 PayPal</h4>
        <div id="paypal-button-container"></div>
      </div>

      <!-- Binance Pay -->
      <div class="payment-method">
        <h4 style="color: #f0b90b; margin-bottom: 15px;">⚡ Binance Pay</h4>
        <a href="https://pay.binance.com/en?merchantId=807678814"
           target="_blank"
           class="btn btn-warning">
          BINANCE PAY
        </a>
      </div>

      <!-- Blockchain Pay -->
      <div class="payment-method">
        <h4 style="color: #9333EA; margin-bottom: 15px;">🔗 Blockchain Pay</h4>
        <a href="https://commerce.blockchain.com/payment-request/create?address=0x4c64b783f1babc0a2fe62f174873f415393c2269&asset=USDTBEP20"
           target="_blank"
           class="btn btn-dark">
          BLOCKCHAIN PAY
        </a>
        <p style="font-size: 0.8rem; color: #888; margin-top: 10px;">USDT BEP20</p>
      </div>
    </div>

    <!-- Contact Premium Support -->
    <div id="contacto-premium">
      <h3>📞 Soporte Premium</h3>
      <p style="margin-bottom: 15px; color: #CCCCCC;">¿Necesitas ayuda con tu suscripción?</p>
      <a href="https://wa.me/34611392436" target="_blank" class="btn btn-success">
        📱 WhatsApp
      </a>
      <a href="https://t.me/JeremiSotoJJX" target="_blank" class="btn btn-info">
        💬 Telegram
      </a>
    </div>
  </section>

  <!-- NAVIGATION (Hidden until login) -->
  <nav id="app-nav">
    <a href="#dashboard">
      <span>🏠</span>
      <span class="nav-label">Dashboard</span>
    </a>
    <a href="#arbitraje">
      <span>⚡</span>
      <span class="nav-label">Arbitraje</span>
    </a>
    <a href="#historial">
      <span>📜</span>
      <span class="nav-label">Historial</span>
    </a>
    <a href="#p2p">
      <span>🤝</span>
      <span class="nav-label">P2P</span>
    </a>
    <a href="#premium">
      <span>💎</span>
      <span class="nav-label">Premium</span>
    </a>
  </nav>

  <!-- Firebase SDKs -->
  <script type="module">
    // Firebase Configuration
    // Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyC2ehh6VGue2Rme9wvB1LspxNiTVqEAXpk",
  authDomain: "jjxcapital-bf5a6.firebaseapp.com",
  projectId: "jjxcapital-bf5a6",
  storageBucket: "jjxcapital-bf5a6.firebasestorage.app",
  messagingSenderId: "338896648629",
  appId: "1:338896648629:web:2eb766cace7454099141fc",
  measurementId: "G-XED5HH0YEF"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);

    // Utility function to show messages
    function showMessage(message, type = 'success') {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${type}`;
      messageDiv.textContent = message;
      document.body.appendChild(messageDiv);
      
      setTimeout(() => {
        messageDiv.remove();
      }, 5000);
    }

    // Simulador button (always accessible)
    document.getElementById('btn-simulador').addEventListener('click', () => {
      showMessage('Simulador cargando...', 'info');
      // Here you can add your simulator logic
      console.log('Navegando al simulador...');
    });

    // Login with Google
    document.getElementById('btn-login').addEventListener('click', () => {
      const btn = document.getElementById('btn-login');
      btn.innerHTML = '<span class="loading"></span> Conectando...';
      btn.disabled = true;
      
      signInWithPopup(auth, provider)
        .then((result) => {
          const user = result.user;
          showMessage(`¡Bienvenido ${user.displayName}!`, 'success');
          console.log('Usuario autenticado:', user.email);
        })
        .catch((error) => {
          console.error('Error en login:', error);
          let errorMessage = 'Error al iniciar sesión';
          if (error.code === 'auth/popup-closed-by-user') {
            errorMessage = 'Ventana de autenticación cerrada';
          } else if (error.code === 'auth/api-key-not-valid') {
            errorMessage = 'Error de configuración. Contacta al administrador.';
          }
          showMessage(errorMessage, 'error');
        })
        .finally(() => {
          btn.innerHTML = '🚀 Iniciar Sesión con Google';
          btn.disabled = false;
        });
    });

    // Register button
    document.getElementById('btn-register').addEventListener('click', () => {
      showMessage('Usa "Iniciar Sesión con Google" para crear tu cuenta', 'info');
    });

    // Auth state observer
    onAuthStateChanged(auth, user => {
      const authBtns = document.getElementById('auth-buttons');
      const appNav = document.getElementById('app-nav');
      const profile = document.getElementById('profile');
      const payments = document.getElementById('payments');

      if (user) {
        // User authenticated - show app content
        authBtns.style.display = 'none';
        appNav.classList.add('show');
        profile.classList.add('show');
        payments.classList.add('show');

        // Fill profile information
        document.getElementById('profile-name').textContent = user.displayName || 'Usuario';
        document.getElementById('profile-email').textContent = user.email;
        
        if (user.metadata.creationTime) {
          const creationDate = new Date(user.metadata.creationTime);
          document.getElementById('profile-date').textContent = creationDate.toLocaleDateString('es-ES');
        }

        // Check if user is owner (Jeremi Soto)
        if (user.email === 'jeremisoto2022@gmail.com') {
          document.getElementById('profile-status').innerHTML = '<span style="color: #ff4444;">👑 PROPIETARIO</span>';
          showMessage('¡Bienvenido, Jeremi! Panel de administrador activado.', 'success');
        }

        // Initialize PayPal after authentication
        initializePayPal();

        console.log('Usuario autenticado:', user.email);
      } else {
        // No user - show login options
        authBtns.style.display = 'block';
        appNav.classList.remove('show');
        profile.classList.remove('show');
        payments.classList.remove('show');
        console.log('Sin sesión activa');
      }
    });

    // PayPal Integration
    function initializePayPal() {
      // Load PayPal SDK dynamically
      if (!window.paypal) {
        const script = document.createElement('script');
        script.src = 'https://www.paypal.com/sdk/js?client-id=ATAkHJm9vroy2A5kxifCvYQbP2-XJi2OA536143hgUpb_Q_e7VrZoOEDFjKOOJQQF4dvv3JYYe2bAaF1=USD';
        script.onload = renderPayPalButton;
        document.head.appendChild(script);
      } else {
        renderPayPalButton();
      }
    }

    function renderPayPalButton() {
      if (window.paypal && document.getElementById('paypal-button-container')) {
        // Clear existing button
        document.getElementById('paypal-button-container').innerHTML = '';
        
        window.paypal.Buttons({
          createOrder: function(data, actions) {
            return actions.order.create({
              purchase_units: [{
                amount: { value: '15.00' },
                description: 'JJXCAPITAL Premium Plan - Monthly Subscription'
              }],
              application_context: { 
                shipping_preference: 'NO_SHIPPING' 
              }
            });
          },
          onApprove: function(data, actions) {
            return actions.order.capture().then(function(details) {
              console.log('Pago completado por:', details.payer.name.given_name);
              showMessage(`¡Pago completado exitosamente! Gracias ${details.payer.name.given_name}`, 'success');
              document.getElementById('profile-status').innerHTML = '<span style="color: #4CAF50;">💎 PREMIUM</span>';
              
              // Here you would update user's subscription status in your database
            });
          },
          onError: function(err) {
            console.error('PayPal error:', err);
            showMessage('Error en el pago con PayPal', 'error');
          }
        }).render('#paypal-button-container');
      }
    }

    // Navigation clicks
   document.getElementById('app-nav').addEventListener('click', (e) => {
  const href = e.target.closest('a')?.getAttribute('href');
  if (href) {
    showMessage(`Navegando a ${href.replace('#', '')}`, 'info');
    console.log('Navegando a:', href);
    // Si quieres que funcione el scroll natural, quita esta línea:
    // e.preventDefault();
  }
});

    // Add logout functionality (optional)
    window.logoutUser = () => {
      signOut(auth).then(() => {
        showMessage('Sesión cerrada correctamente', 'success');
      }).catch((error) => {
        console.error('Error al cerrar sesión:', error);
      });
    };

    // Global functions for external use
    window.showMessage = showMessage;
    window.getCurrentUser = () => auth.currentUser;
    
    console.log('🚀 JJXCAPITAL initialized successfully');
  </script>

  <!-- Add logout button to profile (optional) -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Add logout button to profile section
      const profile = document.getElementById('profile');
      const logoutBtn = document.createElement('button');
      logoutBtn.textContent = '🚪 Cerrar Sesión';
      logoutBtn.style.cssText = `
        background: #f44336;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 20px;
        cursor: pointer;
        margin-top: 20px;
        font-weight: 600;
      `;
      logoutBtn.onclick = () => window.logoutUser();
      profile.appendChild(logoutBtn);
    });
  </script>
</body>
</html>